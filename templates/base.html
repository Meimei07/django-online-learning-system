<!DOCTYPE html>
<html lang="en">
  <head>
    {% load static %}
    <meta charset="UTF-8" />
    <title>{% block title %}Online Learning{% endblock %}</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-LN+7fdVzj6u52u30Kp6M/trliBMCMKTyK833zpbD+pXdCLuTusPj697FH4R/5mcr"
      crossorigin="anonymous"
    />
    <link 
      rel="stylesheet" 
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
      integrity="sha512-..."
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <link rel="stylesheet" href="{% static 'css/style.css' %}" />
  </head>

  <body>
    <!--Main Navigation-->
    <header>
      <!-- Sidebar -->
      <nav
        id="sidebarMenu"
        class="collapse d-lg-block sidebar collapse bg-white"
      >
        <div class="position-sticky">
          <div class="list-group list-group-flush mx-3 mt-4">
            <a
              href="{% url 'dashboard' %}"
              class="list-group-item list-group-item-action py-2 ripple"
              aria-current="true"
            >
              <i class="fas fa-tachometer-alt me-3"></i
              ><span>Main dashboard</span>
            </a>
            
            <!-- employee - instructor - student -->
            {% if request.user.groups.all.0.name == 'admin' %}
              
              <a
                href="{% url 'users:employee_list' %}"
                class="list-group-item list-group-item-action py-2 ripple"
              >
                <i class="fa-solid fa-circle-user me-3"></i><span>Employee</span>
              </a>
              <a
                href="{% url 'users:instructor_list' %}"
                class="list-group-item list-group-item-action py-2 ripple"
              >
                <i class="fa-solid fa-chalkboard-user me-3"></i><span>Instructor</span>
              </a>
              <a
                href="{% url 'users:student_list' %}"
                class="list-group-item list-group-item-action py-2 ripple"
              >
                <i class="fa-solid fa-graduation-cap me-3"></i></i><span>Student</span>
              </a>
              
            {% endif %}
              
            <!-- category/tag  -->
            {% if request.user.groups.all.0.name == 'admin' or request.user.groups.all.0.name == 'instructor' %}
              
              <a
                href="{% url 'courses:category_list' %}"
                class="list-group-item list-group-item-action py-2 ripple"
              >
                <i class="fa-solid fa-list me-3"></i><span>Category / Tag</span>
              </a>
              
            {% endif %}
              
            <!-- course -->
            <a
              href="{% url 'courses:course_list' %}"
              class="list-group-item list-group-item-action py-2 ripple"
            >
              <i class="fa-solid fa-book me-3"></i><span>Course</span>
            </a>
            
            <!-- enrollment -->
            {% if request.user.groups.all.0.name == 'admin' %}
            
              <a
                href="{% url 'enrollments:enrollment_list' %}"
                class="list-group-item list-group-item-action py-2 ripple"
              >
                <i class="fas fa-chart-area me-3"></i><span>Enrollment</span>
              </a>
              
            {% endif %}
              
            <!-- review -->
            {% if request.user.groups.all.0.name == 'admin' %}
          
              <a
                href="{% url 'reviews:review_list' %}"
                class="list-group-item list-group-item-action py-2 ripple"
              >
                <i class="fa-solid fa-star me-3"></i><span>Review</span>
              </a>
              
            {% endif %}

            <!-- logout -->
            <a
              href="{% url 'logout' %}"
              class="list-group-item list-group-item-action py-2 ripple"
            >
              <i class="fa-solid fa-arrow-right-from-bracket me-3"></i></i></i><span>Logout</span>
            </a>
          </div>

          <div>
            
          </div>
        </div>
      </nav>
      <!-- Sidebar -->

      <!-- Navbar -->
      <nav id="main-navbar" class="navbar navbar-expand-lg bg-white fixed-top">
        <!-- Container wrapper -->
        <div class="container-fluid">
          <!-- Toggle button -->
          <button
            class="navbar-toggler"
            type="button"
            data-bs-toggle="collapse"
            data-bs-target="#sidebarMenu"
            aria-controls="sidebarMenu"
            aria-expanded="false"
            aria-label="Toggle navigation"
          >
            <i class="fas fa-bars"></i>
          </button>

          <!-- Brand -->
          <a class="navbar-brand" href="#">
            <img
              src="/media/profiles/my-learning-logo.png"
              height="35"
              width="200"
              alt="MDB Logo"
              loading="lazy"
            />
          </a>

          <!-- Right links -->
          <ul class="navbar-nav ms-auto d-flex flex-row align-items-center gap-3">
            <!-- Notification dropdown -->
            <li class="nav-item fs-5 d-flex align-items-center gap-3">
              <span>Hello, {{request.user}}!</span>

              <!-- profile image -->
              <div>              
                {% with request.user.groups.all.0.name as group %}

                  {% if group == "admin" %}
                      <img src="/media/profiles/employee-profile.webp" alt="profile" style="height: 40px; border-radius: 50%;" />
                  {% elif group == "instructor" %}
                      <img src="/media/profiles/instructor-profile.jpg" alt="profile" style="height: 40px; border-radius: 50%;" />
                  {% elif group == "student" %}

                    {% if request.user.student.gender == "Female" %}
                      {% with "female-student-profile.jpg" as profile_image %}
                        <img src="/media/profiles/{{ profile_image }}" alt="profile" style="height: 40px; border-radius: 50%;" />
                      {% endwith %}
                    {% elif request.user.student.gender == "Male" %}
                      {% with "male-student-profile.jpg" as profile_image %}
                        <img src="/media/profiles/{{ profile_image }}" alt="profile" style="height: 40px; border-radius: 50%;" />
                      {% endwith %}
                    {% endif %}

                  {% endif %}
                  
                {% endwith %}


              </div>
            </li>
          </ul>
        </div>
        <!-- Container wrapper -->
      </nav>
      <!-- Navbar -->
    </header>
    <!--Main Navigation-->

    <!--Main layout-->
    <main style="margin-top: 35px">
      <div class="container py-4 px-2">
        {% block content %} {% endblock content %}
      </div>
    </main>
    <!--Main layout-->

    {% comment %} {% load django_browser_reload %}
    {% django_browser_reload_script %} {% endcomment %}

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-ndDqU0Gzau9qJ1lfW4pNLlhNTkCfHzAVBReH9diLvGRem5+R9g2FzA8ZGN954O5Q"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
